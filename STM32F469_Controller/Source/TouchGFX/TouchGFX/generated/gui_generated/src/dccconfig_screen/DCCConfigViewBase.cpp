/*********************************************************************************/
/********** THIS FILE IS GENERATED BY TOUCHGFX DESIGNER, DO NOT MODIFY ***********/
/*********************************************************************************/
#include <gui_generated/dccconfig_screen/DCCConfigViewBase.hpp>
#include <touchgfx/Color.hpp>
#include "BitmapDatabase.hpp"

DCCConfigViewBase::DCCConfigViewBase() :
    updateItemCallback(this, &DCCConfigViewBase::updateItemCallbackHandler)
{

    touchgfx::CanvasWidgetRenderer::setupBuffer(canvasBuffer, CANVAS_BUFFER_SIZE);

    statusBar.setXY(0, 0);

    functionButtons.setXY(0, 455);

    scrollableContainer1.setPosition(0, 25, 800, 430);
    scrollableContainer1.setScrollbarsColor(touchgfx::Color::getColorFrom24BitRGB(255, 255, 255));

    backgroundImage.setBitmap(touchgfx::Bitmap(BITMAP_DARK_TEXTURES_CARBON_FIBRE_ID));
    backgroundImage.setPosition(0, 0, 800, 786);
    backgroundImage.setOffset(0, 0);
    scrollableContainer1.add(backgroundImage);

    line1.setPosition(538, 17, 250, 240);
    line1Painter.setColor(touchgfx::Color::getColorFrom24BitRGB(71, 71, 71));
    line1.setPainter(line1Painter);
    line1.setStart(3, 3);
    line1.setEnd(247, 3);
    line1.setLineWidth(5);
    line1.setLineEndingStyle(touchgfx::Line::ROUND_CAP_ENDING);
    scrollableContainer1.add(line1);

    line2.setPosition(538, 17, 250, 240);
    line2Painter.setColor(touchgfx::Color::getColorFrom24BitRGB(71, 71, 71));
    line2.setPainter(line2Painter);
    line2.setStart(3, 3);
    line2.setEnd(3, 237);
    line2.setLineWidth(5);
    line2.setLineEndingStyle(touchgfx::Line::ROUND_CAP_ENDING);
    scrollableContainer1.add(line2);

    line3.setPosition(538, 17, 250, 240);
    line3Painter.setColor(touchgfx::Color::getColorFrom24BitRGB(71, 71, 71));
    line3.setPainter(line3Painter);
    line3.setStart(3, 237);
    line3.setEnd(247, 237);
    line3.setLineWidth(5);
    line3.setLineEndingStyle(touchgfx::Line::ROUND_CAP_ENDING);
    scrollableContainer1.add(line3);

    line4.setPosition(538, 17, 250, 240);
    line4Painter.setColor(touchgfx::Color::getColorFrom24BitRGB(71, 71, 71));
    line4.setPainter(line4Painter);
    line4.setStart(247, 3);
    line4.setEnd(247, 237);
    line4.setLineWidth(5);
    line4.setLineEndingStyle(touchgfx::Line::ROUND_CAP_ENDING);
    scrollableContainer1.add(line4);

    toggleProgTrack.setXY(547, 27);
    toggleProgTrack.setBitmaps(touchgfx::Bitmap(BITMAP_PROGTRACKBUTTONUP_ID), touchgfx::Bitmap(BITMAP_PROGTRACKBUTTONDOWN_ID));
    scrollableContainer1.add(toggleProgTrack);

    scrollWheelDecoders.setPosition(17, 17, 350, 240);
    scrollWheelDecoders.setHorizontal(false);
    scrollWheelDecoders.setCircular(false);
    scrollWheelDecoders.setEasingEquation(touchgfx::EasingEquations::backEaseOut);
    scrollWheelDecoders.setSwipeAcceleration(10);
    scrollWheelDecoders.setDragAcceleration(10);
    scrollWheelDecoders.setNumberOfItems(1);
    scrollWheelDecoders.setSelectedItemOffset(65);
    scrollWheelDecoders.setDrawableSize(100, 5);
    scrollWheelDecoders.setDrawables(scrollWheelDecodersListItems, updateItemCallback);
    scrollWheelDecoders.animateToItem(0, 0);
    scrollableContainer1.add(scrollWheelDecoders);

    tiledImageBottomMask.setBitmap(touchgfx::Bitmap(BITMAP_DECODERSWHEELMASKBOTTOM_ID));
    tiledImageBottomMask.setPosition(17, 193, 350, 65);
    tiledImageBottomMask.setOffset(0, 0);
    scrollableContainer1.add(tiledImageBottomMask);

    tiledImageTopMask.setBitmap(touchgfx::Bitmap(BITMAP_DECODERSWHEELMASKTOP_ID));
    tiledImageTopMask.setPosition(17, 17, 350, 64);
    tiledImageTopMask.setOffset(0, 0);
    scrollableContainer1.add(tiledImageTopMask);
    scrollableContainer1.setScrollbarsPermanentlyVisible();
    scrollableContainer1.setScrollbarsVisible(false);

    add(statusBar);
    add(functionButtons);
    add(scrollableContainer1);
}

void DCCConfigViewBase::setupScreen()
{
    statusBar.initialize();
    functionButtons.initialize();
    scrollWheelDecoders.initialize();
    for (int i = 0; i < scrollWheelDecodersListItems.getNumberOfDrawables(); i++)
    {
        scrollWheelDecodersListItems[i].initialize();
    }
}

void DCCConfigViewBase::updateItemCallbackHandler(touchgfx::DrawableListItemsInterface* items, int16_t containerIndex, int16_t itemIndex)
{
    if (items == &scrollWheelDecodersListItems)
    {
        touchgfx::Drawable* d = items->getDrawable(containerIndex);
        ListItemDecoder* cc = (ListItemDecoder*)d;
        scrollWheelDecodersUpdateItem(*cc, itemIndex);
    }
}
