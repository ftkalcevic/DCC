/*********************************************************************************/
/********** THIS FILE IS GENERATED BY TOUCHGFX DESIGNER, DO NOT MODIFY ***********/
/*********************************************************************************/
#include <gui_generated/decoders_screen/DecodersViewBase.hpp>
#include "BitmapDatabase.hpp"

DecodersViewBase::DecodersViewBase() :
    updateItemCallback(this, &DecodersViewBase::updateItemCallbackHandler)
{

    backgroundImage.setBitmap(touchgfx::Bitmap(BITMAP_DARK_TEXTURES_CARBON_FIBRE_ID));
    backgroundImage.setPosition(0, 25, 800, 430);
    backgroundImage.setOffset(0, 0);

    statusBar.setXY(0, 0);

    functionButtons.setXY(0, 455);

    scrollWheelDecoders.setPosition(0, 30, 800, 420);
    scrollWheelDecoders.setHorizontal(true);
    scrollWheelDecoders.setCircular(false);
    scrollWheelDecoders.setEasingEquation(touchgfx::EasingEquations::backEaseOut);
    scrollWheelDecoders.setSwipeAcceleration(10);
    scrollWheelDecoders.setDragAcceleration(10);
    scrollWheelDecoders.setNumberOfItems(3);
    scrollWheelDecoders.setSelectedItemOffset(180);
    scrollWheelDecoders.setDrawableSize(420, 10);
    scrollWheelDecoders.setDrawables(scrollWheelDecodersListItems, updateItemCallback);
    scrollWheelDecoders.animateToItem(1, 0);

    tiledImage1.setBitmap(touchgfx::Bitmap(BITMAP_DECODERSCROLLWHEELMASK_ID));
    tiledImage1.setPosition(0, 30, 800, 420);
    tiledImage1.setOffset(0, 0);

    add(backgroundImage);
    add(statusBar);
    add(functionButtons);
    add(scrollWheelDecoders);
    add(tiledImage1);
}

void DecodersViewBase::setupScreen()
{
    statusBar.initialize();
    functionButtons.initialize();
    scrollWheelDecoders.initialize();
    for (int i = 0; i < scrollWheelDecodersListItems.getNumberOfDrawables(); i++)
    {
        scrollWheelDecodersListItems[i].initialize();
    }
}

void DecodersViewBase::updateItemCallbackHandler(touchgfx::DrawableListItemsInterface* items, int16_t containerIndex, int16_t itemIndex)
{
    if (items == &scrollWheelDecodersListItems)
    {
        touchgfx::Drawable* d = items->getDrawable(containerIndex);
        Decoder* cc = (Decoder*)d;
        scrollWheelDecodersUpdateItem(*cc, itemIndex);
    }
}
